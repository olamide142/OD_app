{% extends 'accounts/base.html' %}
{% load static %}


{% block content %}
<script src="{% static 'accounts/js/profile.js' %}"></script>
<!-- Page Container -->
<div class="w3-content w3-margin-top w3-round" style="max-width:900px;">

  <!-- The Grid -->
  <div class="w3-row-padding ">

    <!-- Left Column -->

      <div class="w3-white w3-text-grey w3-card-4">
        <div class="w3-quarter w3-display-container w3-center">
          <svg style="max-width:60%;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 142.841 137.643" class="w-1/3 lg:w-full rounded-full bg-g-grey-light self-center"><title>Avatar</title><g><path d="M134.622,145.559c-1.051-3.5-5.139-4.2-5.139-4.2s-16.613-3.269-18.316-4.2c-.329-.182-.689-.4-1.054-.645-1.534-1-3.23-2.452-3.734-3.794-.392-1.046-.383-4.563-.322-7.029-1.482-.831-3.068-1.7-3.213-1.7-.252,0-17.6,2.255-19.655,2.595,0,.071,0,.146,0,.218a25.242,25.242,0,0,1-.345,5.92c-.624,1.664-3.087,3.5-4.788,4.439s-18.315,4.2-18.315,4.2-4.089.7-5.14,4.2-4.359,11.689-3.854,11.912c17.172,7.563,71.172,7.563,87.727,0C138.979,157.241,135.673,149.064,134.622,145.559Z" transform="translate(-23.449 -25.821)" fill="#E2B182"></path><path d="M109.476,136.07a7.211,7.211,0,0,1-3.1-3.358c-.392-1.046-.383-4.563-.322-7.029-1.482-.831-3.068-1.7-3.213-1.7-.252,0-17.6.536-19.653.877,0,.07,0,1.864,0,1.936,1.823,3.876,15.2,10.2,26.284,9.278Z" transform="translate(-23.449 -25.821)" fill="hsl(29.399999999999977, 62.3%, 66.3%)"></path><path d="M129.955,83.1c-1.471-2.038-2.984-1.471-4.22-.191.582-3.611.956-6.221.976-6.8.645-17.562-18.264-27.71-31.783-27.674h-.14c-15.935-.043-31.522,10.119-30.877,27.674.023.636.4,3.725.979,7.909-1.349-1.919-3.267-3.486-5.12-.918-3.358,4.651,1.979,14.932,2.708,15.633C63.8,100,67.349,100,67.349,100V100c1.217,7.094,2.52,13.393,3.477,14.948,2.572,4.18,12.665,13.623,23.962,14.116a.678.678,0,0,0,.07.007c.022,0,.047,0,.07,0v-.012c11.3-.493,21.393-9.936,23.964-14.116.957-1.556,2.409-7.861,3.8-14.958,1.115-.057,3.549-.289,4.552-1.256C127.976,98.029,133.314,87.748,129.955,83.1Z" transform="translate(-23.449 -25.821)" fill="#E2B182"></path></g><g><linearGradient id="_1c7847" x1="72.34" y1="94.276" x2="79.169" y2="94.276" gradientTransform="matrix(0.999, -0.039, 0.039, 0.999, 1.102, -0.852)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#1c7847"></stop><stop offset="1" stop-color="hsl(148, 62.2%, 24.7%)"></stop></linearGradient><g><path fill="#ffffff" d="M85.831,89.846a.825.825,0,0,1,0,1.128c-.907.969-2.976,2.848-5.384,2.848-2.437,0-4.269-2.044-5.03-3.061a.88.88,0,0,1,.036-1.1A7,7,0,0,1,80.447,87C82.855,87,84.923,88.876,85.831,89.846Z" transform="translate(-23.449 -25.821)"></path><path fill="url(#_1c7847)" d="M77.042,90.538A3.416,3.416,0,1,0,80.32,87.1,3.372,3.372,0,0,0,77.042,90.538Z" transform="translate(-23.449 -25.821)"></path><path fill="#1d1d1b" d="M80.207,88.558A2.009,2.009,0,1,1,78.524,90.8,1.971,1.971,0,0,1,80.207,88.558Z" transform="translate(-23.449 -25.821)"></path><path fill="#ffffff" d="M79.262,88.284a.983.983,0,1,1-.866,1.1A.993.993,0,0,1,79.262,88.284Z" transform="translate(-23.449 -25.821)"></path><path fill="#ffffff" d="M115.374,89.882a.827.827,0,0,1,0,1.13c-.907.969-2.976,2.848-5.384,2.848-2.437,0-4.269-2.045-5.03-3.062A.881.881,0,0,1,105,89.7a7,7,0,0,1,4.994-2.665C112.4,87.034,114.466,88.912,115.374,89.882Z" transform="translate(-23.449 -25.821)"></path><path fill="url(#_1c7847)" d="M106.585,90.575a3.416,3.416,0,1,0,3.278-3.434A3.372,3.372,0,0,0,106.585,90.575Z" transform="translate(-23.449 -25.821)"></path><path fill="#1d1d1b" d="M109.75,88.594a2.01,2.01,0,1,1-1.684,2.237A1.974,1.974,0,0,1,109.75,88.594Z" transform="translate(-23.449 -25.821)"></path><path fill="#ffffff" d="M108.805,88.321a.983.983,0,1,1-.866,1.1A.992.992,0,0,1,108.805,88.321Z" transform="translate(-23.449 -25.821)"></path></g></g><g><path fill="#ef843b" d="M105.083,109.174c-.707-.438-1.326-.039-2.094.328-.078.041-.16.076-.238.115-1.82.152-4.607.231-7.41.229s-5.6-.077-7.418-.229c-.076-.04-.154-.074-.229-.115-.769-.367-1.388-.766-2.093-.328-.637.393-.293.91.283,1.34,5.781,4.306,12.742,4.433,18.914,0C105.384,110.093,105.718,109.567,105.083,109.174Z" transform="translate(-23.449 -25.821)"></path></g><g><g><path d="M130.856,70.759a32.437,32.437,0,0,0-9.123-23.312,39.939,39.939,0,0,0-24.242-11.7c-5.764-.643-18.2,1.5-21.331,10.811-3.226.055-8.42,1.746-12.827,10.825-5.066,10.434-1.059,26.3,5.551,35.911-2.675-12.919-.975-22.989,1.564-29.738a14.982,14.982,0,0,0,7.584,6.113A25.886,25.886,0,0,1,76.16,57.718c4.473,12,17.954,17.17,26.842,17.74-8.721-4.736-12.341-13.125-12.923-16.57,6.318,9.945,19.5,12.5,19.5,12.5-6.11-4.525-6.919-16.2-6.307-16,2.973,9.016,12.473,13.508,13.162,14.167.76.728-1.877-7.144-1.194-6.35,6.248,7.26,9.127,17.262,6.361,30.088,6.224-9.826,6.645-21.14,4.543-30.117C127.153,63.962,129.8,68.435,130.856,70.759Z" transform="translate(-23.449 -25.821)" fill="#554838"></path></g><path d="M84.709,84.234a1.028,1.028,0,0,1-.4-.081c-3.463-1.446-7.742-.8-9.064-.054a1.035,1.035,0,1,1-1.022-1.8c1.908-1.083,6.883-1.726,10.884-.056a1.036,1.036,0,0,1-.4,1.992Z" transform="translate(-23.449 -25.821)" fill="#554838"></path><path d="M105.459,84.234a1.036,1.036,0,0,1-.4-1.992c4-1.67,8.976-1.028,10.886.056a1.035,1.035,0,1,1-1.021,1.8c-1.323-.75-5.605-1.393-9.067.055A1.037,1.037,0,0,1,105.459,84.234Z" transform="translate(-23.449 -25.821)" fill="#554838"></path></g><g><path fill="rgba(0, 0, 0, .8)" d="M81.81,83.033c-3.251-.2-8.16-.1-10.112,1.251s-1.252,5.457-.851,7.359,1.214,5.06,2.887,6.058c1.9,1.134,5.673,1.752,8.827,1.351s5.256-1.6,6.507-3.955c1.013-1.9,2.5-7.459,1.5-9.361S84.263,83.183,81.81,83.033Z" transform="translate(-23.449 -25.821)"></path><ellipse fill="#ffffff" cx="45.362" cy="58.563" rx="1.685" ry="0.534"></ellipse><path fill="#95a5a6" d="M100.933,82.582a19.632,19.632,0,0,1-5.557,1.394,19.632,19.632,0,0,1-5.557-1.394c-4.7-1.551-16.569-2.553-24.078-.15l.225,4.155a1.558,1.558,0,0,1,1.815,1.2c.45,1.5,1.5,7.693,3.41,10.112,2.376,3,7.492,3.119,10.952,2.97,4.659-.2,7.71-2.269,9.011-5.774s2.036-6.507,2.87-7.459a1.937,1.937,0,0,1,2.7,0c.834.952,1.568,3.955,2.87,7.459s4.352,5.574,9.011,5.774c3.46.149,8.576.033,10.952-2.97,1.914-2.419,2.96-8.611,3.41-10.112a1.558,1.558,0,0,1,1.815-1.2l.225-4.155C117.5,80.029,105.638,81.031,100.933,82.582Zm-33.808,1.8c0-.3.755-.534,1.686-.534s1.685.239,1.685.534-.754.534-1.685.534S67.125,84.679,67.125,84.385ZM89.068,95.1c-1.251,2.353-3.354,3.555-6.507,3.955s-6.925-.217-8.827-1.351c-1.673-1-2.487-4.155-2.887-6.058s-1.1-6.007.851-7.359,6.861-1.45,10.112-1.251c2.453.15,7.759.8,8.76,2.7S90.081,93.193,89.068,95.1Zm30.837-3.454c-.4,1.9-1.214,5.06-2.887,6.058-1.9,1.134-5.673,1.752-8.827,1.351s-5.256-1.6-6.507-3.955c-1.013-1.9-2.5-7.459-1.5-9.361s6.307-2.553,8.76-2.7c3.251-.2,8.16-.1,10.112,1.251S120.306,89.741,119.905,91.643Zm2.036-6.724c-.931,0-1.685-.24-1.685-.534s.754-.534,1.685-.534,1.686.239,1.686.534S122.872,84.919,121.941,84.919Z" transform="translate(-23.449 -25.821)"></path><path fill="rgba(0, 0, 0, .8)" d="M119.054,84.284c-1.952-1.351-6.861-1.45-10.112-1.251-2.453.15-7.759.8-8.76,2.7s.489,7.457,1.5,9.361c1.251,2.353,3.354,3.555,6.507,3.955s6.925-.217,8.827-1.351c1.673-1,2.487-4.155,2.887-6.058S121.007,85.636,119.054,84.284Z" transform="translate(-23.449 -25.821)"></path><ellipse fill="#ffffff" cx="98.492" cy="58.563" rx="1.685" ry="0.534"></ellipse></g><g id="fd0b4506-3e2f-4926-9909-a72d2452468e" data-name="Red T-shirt"><path d="M138.518,157.289c-16.551,7.561-70.55,7.561-87.72,0-.511-.22,2.8-8.4,3.849-11.91a5.65,5.65,0,0,1,2.611-3.21c.88-.33,1.819-.67,2.8-1.04.019,0,.04-.01.059-.01,2.231-.45,15.03-3.009,17.651-4.009,3.769,6.509,10.049,11.3,18.179,11.3,7.63,0,13.53-4.659,17.16-10.819,4.811,1.3,16.42,3.59,16.42,3.59s.11.02.289.06a.036.036,0,0,0-.029.01s.57.191,1.43.49a.142.142,0,0,1,.06.02,5.934,5.934,0,0,1,3.391,3.62C135.717,148.889,139.018,157.059,138.518,157.289Z" transform="translate(-23.449 -25.821)" fill="#2980b9"></path><path d="M114.437,137.929c-4.25,7.44-10.95,11.83-18.49,11.83-7.9,0-15.149-4.64-19.529-12.229.569-.161,1.039-.3,1.35-.42.059-.021.11-.041.16-.061a1.3,1.3,0,0,0,.17-.08c.269-.15.549-.32.849-.51,3.891,6.77,10,10.61,17,10.61,6.4,0,12.08-3.58,15.84-9.87.341.12.79.25,1.32.39C113.508,137.7,113.947,137.809,114.437,137.929Z" transform="translate(-23.449 -25.821)" fill="#d35400"></path></g><g><path d="M66.758,92.468c.18,1.871.749,3.351-1.24,3.52S62.83,94.775,62.65,92.9s.236-3.523,2.221-3.69S66.581,90.6,66.758,92.468Z" transform="translate(-23.449 -25.821)" fill="#95a5a6"></path><path d="M123.444,92.468c-.179,1.871-.749,3.351,1.24,3.52s2.69-1.213,2.869-3.085-.236-3.523-2.222-3.69S123.623,90.6,123.444,92.468Z" transform="translate(-23.449 -25.821)" fill="#95a5a6"></path><path d="M95.144,163.351h-.991v-9.435c-.005-4.948-4.21-8.315-9.534-12.577-4.45-3.562-9.494-7.6-13.4-13.6-7.608-11.71-7.363-22.561-6.46-32.671l.987.087c-.887,9.938-1.13,20.6,6.305,32.043,3.815,5.871,8.792,9.855,13.184,13.371,5.313,4.252,9.9,7.926,9.905,13.35Z" transform="translate(-23.449 -25.821)" fill="#95a5a6"></path><path d="M96.166,163.351h-.991v-9.435c0-5.426,4.591-9.1,9.9-13.352,4.393-3.515,9.37-7.5,13.185-13.37,7.429-11.436,7.188-22.1,6.306-32.043l.987-.087c.9,10.115,1.14,20.969-6.461,32.67-3.9,6.005-8.946,10.042-13.4,13.6-5.324,4.263-9.53,7.629-9.533,12.578Z" transform="translate(-23.449 -25.821)" fill="#95a5a6"></path></g><g id="e56f8410-5ebf-488b-a46b-8a367b93fdad" data-name="Vrstva 37"><path id="e3d1967f-f88c-459f-ae18-cef4855f7a1b" data-name="vous" d="M121.837,97.633a8.274,8.274,0,0,1-1.619,4.458s-2.9,14.549-11.2,15.28c.062.086-4.09.054-9.091-.057-1.676-1.771-6.171-2.589-8.947-.326l-.072.06c-4.55-.176-8.109-.4-7.882-.636-12.222.269-14.978-18.154-14.978-18.154.043.562.1,1.188.167,1.86.178,1.84.405,4.059.68,6.48.633,5.5,1.516,12.067,2.654,17.665-.029-1.159,0-2.315.057-3.469a52.525,52.525,0,0,0,5.018,16.738,23.036,23.036,0,0,0,7.527,6.858,62.241,62.241,0,0,1-3.279-6.008c-.107-.276-.2-.557-.29-.842-.012-.038-.024-.076-.035-.115-.086-.3-.162-.6-.221-.906l0-.015c-.054-.285-.09-.578-.118-.875-.006-.073-.012-.145-.017-.218a8.85,8.85,0,0,1-.019-.954c.2.5.426.988.662,1.479.1.2.194.407.3.61.111.218.231.434.348.651a26.976,26.976,0,0,0,8.913,9.931,17.118,17.118,0,0,0,3.126,1.584,37.368,37.368,0,0,1-2.9-7.05,41.553,41.553,0,0,0,5.031,7.689,13.462,13.462,0,0,0,5.637.17,12.6,12.6,0,0,0,1.847-5.018,20.371,20.371,0,0,1-1.075,4.831,7.782,7.782,0,0,0,2.317-1.044c3.6-2.492,6.558-6.8,8.421-10.992.093,2.776-1.938,4.826-2.114,7.647,4.164-3.685,6.237-9.377,7.361-14.369h0l.006-.031c.137-.609.263-1.211.373-1.794.333-4.019,1.063-8.941.411-13,.67,1.35.6,7.2.5,9.645,1.128-3.624,1.2-12.987,1.666-17.815.251-2.722.487-5.317.654-7.291.105-1.106.186-2.019.237-2.658Z" transform="translate(-23.449 -25.821)" fill="#554838"></path><path id="a27fcf95-fab8-4847-bdf4-321027da69e9" data-name="knir" d="M110.728,114.744a6.491,6.491,0,0,1-.517-.625H110.2c-2.65-3.374-4.27-10.127-10.488-8.713-1.808.412-3.176.651-4.167.785-.992-.134-2.36-.373-4.168-.785-6.218-1.414-7.838,5.339-10.488,8.713h-.009a6.642,6.642,0,0,1-.517.625c-3.01,3.323-6.534-1.128-6.534-1.128,3.134,10.113,14.453,2.514,15.977.623,1-1.23,3.336-2.047,5.639-1.836v.013c.033,0,.066,0,.1-.006s.066,0,.1.006V112.4c2.3-.211,4.643.606,5.639,1.836,1.524,1.891,12.842,9.49,15.977-.623C117.262,113.616,113.737,118.067,110.728,114.744Z" transform="translate(-23.449 -25.821)" fill="hsl(33.10000000000002, 20.6%, 29%)"></path><path id="f4a95265-14ef-4445-8be4-4e3fc3bbb275" data-name="l" d="M90.476,105.546a3.771,3.771,0,0,1,.522-.2c-5.9-1.049-7.513,5.47-10.107,8.772h-.009a6.642,6.642,0,0,1-.517.625c-3.01,3.323-6.534-1.128-6.534-1.128,1.115,3.6,3.266,4.946,5.642,5.116C84.291,116.507,85.551,108.83,90.476,105.546Z" transform="translate(-23.449 -25.821)" fill="hsl(33.10000000000002, 20.6%, 29.9%)"></path><path id="a229f948-a5aa-482f-bd5d-70a70c54baef" data-name="l2" d="M110.728,114.744a6.491,6.491,0,0,1-.517-.625H110.2c-2.65-3.374-4.395-10.057-10.488-8.713a33.431,33.431,0,0,1-3.3.676c7.276.589,9.482,12.155,17.122,10.759a16.335,16.335,0,0,0,2.443-.55,9.236,9.236,0,0,0,1.283-2.674S113.737,118.067,110.728,114.744Z" transform="translate(-23.449 -25.821)" fill="hsl(33.10000000000002, 20.6%, 30.4%)"></path></g><g><path fill="#ef843b" d="M99.744,101.563a.271.271,0,0,0,.1-.314.237.237,0,0,0-.268-.161,25.286,25.286,0,0,1-8.474.185.243.243,0,0,0-.26.173.272.272,0,0,0,.1.307,11.793,11.793,0,0,0,4.2,1.612C96.067,103.606,98.49,102.388,99.744,101.563Z" transform="translate(-23.449 -25.821)"></path></g></svg>
            <a class="w3-display-topleft w3-padding w3-small w3-text-purple" href="#"><u>Edit Profile</u></a>
        </div>
        <div class="w3-twothird w3-container w3-padding">

<!--          Follow Button-->
            <div>
    <!--          To avoid showing a profile button on logged in users profile-->
              {% if request.user.username|safe != profile.owner|safe %}
    <!--            Check if loggedin user follows current profile-->
                  <button id="follow_button" class="w3-right w3-button w3-text-purple w3-border w3-small w3-round">
                    {% if request.user.username|safe not in following_me %}
                      Follow
                    {% else %}
                      Unfollow
                    {% endif %}
                  </button>
                {% endif %}
            </div>
            <p class="w3-text-purple">[+] <span id="profile_owner" >{{profile.owner}}</span> </p>
          <p><i class="fa fa-file fa-fw w3-margin-right w3-large w3-text-purple "></i>Notes: <span id="diary_note_length">{{posts|length}}</span></p>
          <p id="follows_size" data-toggle="modal" data-target="#follows">
              <i class="fa fa-users fa-fw w3-margin-right w3-large w3-text-purple"></i>
              Following: <span id="am_len">{{am_following|length}} </span>
              <span class="w3-text-deep-purple">|</span>
              Followers:  <span id="fol_me">{{following_me|length}} </span>
          </p>
          <p class=""><i class="fa fa-address-card fa-fw w3-margin-right w3-large w3-text-purple"></i>About: {{profile.about_me}}</p>

          <!--          Does this profile follow logged in user-->
          {% if request.user.username in am_following %}
          <i class="w3-text-purple w3-small w3-opacity">{{profile.owner}} follows you</i>
          {% endif %}
          <hr>
        </div>

      </div>
    <!-- Right Column -->

      <div class="w3-container w3-card w3-white w3-margin-bottom">
        <p class="w3-text-grey w3-padding-16 w3-center">
            <img class="" src="{% static 'accounts/images/closed.svg' %}" alt="" style="width:3%;"/>
            {{profile.owner|capfirst}}'s Journal
        </p>

              <div class="" style="" id="post_tray">
                {% for post in posts %}
                {% include 'accounts/includes/post.html' %}
                {% endfor %}


              {% if posts|length == 0 %}
              <h1>I REMEMBER WHEN I WAS A SOLDIER</h1>
              {% endif %}
              </div>
      </div>

  </div>
</div>


{% include 'accounts/includes/follows.html' %}
{% endblock %}